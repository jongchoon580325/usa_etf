# 미국주식 ETF 월배당 포트폴리오 웹 앱 개발 문서

**Project Root Directory Name: `01`**

---

## 1. 프로젝트 개요 및 목표

- **목표**: 사용자가 미국 주식 배당 ETF로 구성된 포트폴리오의 월별 배당금을 계산하고 시각화할 수 있는 웹 도구 제공
- **주요 기능**:
  - 다양한 배당 ETF 검색 및 선택
  - 포트폴리오에 ETF 추가/삭제 및 수량 조정
  - 선택 ETF의 배당 일정 및 금액 표시
  - 월별/연간 예상 배당금 계산 및 시각화
  - 포트폴리오 저장 및 불러오기
  - **달러 매수금, 원화 매수금, 비중(%) 자동 계산 및 표시**
  - **목표 달성 시뮬레이션**: 목표 월배당금/비중 입력 시 필요한 ETF별 매수 수량/금액 자동 계산
  - **배당 캘린더 통합 알림**: 월별 배당 지급일 캘린더 및 알림 기능
  - **데이터 내보내기/가져오기**: 포트폴리오 데이터를 CSV/JSON 등으로 내보내기 및 불러오기 지원

---

## 2. 기술 스택 및 구조

- **플랫폼**: React 기반 프론트엔드 웹 애플리케이션
- **폴더 구조**:
  - `src/components/`: 재사용 UI 컴포넌트
  - `src/pages/`: 주요 페이지 컴포넌트
  - `src/services/`: 데이터/API 처리 로직
  - `src/hooks/`: 커스텀 훅
  - `src/context/`: 전역 상태 관리
  - `src/utils/`: 유틸리티 함수
  - `src/assets/`: 이미지, 아이콘 등 리소스
  - `src/styles/`: 전역 스타일 및 테마
- **상태 관리**: Context API 기반 전역 상태 관리
- **라우팅**: React Router 활용

---

## 3. 주요 컴포넌트 및 페이지

- **Header**: 네비게이션
- **EtfSearch**: ETF 검색/필터링
- **Portfolio**: 포트폴리오 관리 (달러 매수금, 원화 매수금, 비중(%) 포함, **데이터 내보내기/가져오기 지원**)
- **DividendCalendar**: 월별 배당 일정 표시, **배당 캘린더 통합 알림**
- **DividendSummary**: 예상 배당금 합계 및 비중(%) 표시
- **DividendChart**: 배당금 시각화 (비중(%) 시각화 포함)
- **SaveLoad**: 포트폴리오 저장/불러오기
- **GoalSimulator**: **목표 달성 시뮬레이션** (목표 월배당금/비중 입력 및 결과 제시)

---

## 4. 포트폴리오 테이블 헤더 구성

- **기본 정보**: 티커, ETF 명칭, 섹터/카테고리
- **투자 정보**: 보유 수량, 매입가, 현재가, 총 투자금액, 현재 가치, 손익, **달러 매수금, 원화 매수금, 비중(%)**
- **배당 정보**: 배당 수익률, 배당 주기, 주당 배당금, 다음 배당일, 월/연 예상 배당금
- **작업**: 편집, 삭제
- **UX 고려**: 모바일 대응, 중요 정보 우선, 컬러 코딩, 정렬 기능, **비중(%) 시각화**

---

## 5. 데이터 소스 및 통합 전략

- **필요 데이터**: ETF 기본 정보, 가격 데이터, 배당 정보, 배당 지급 주기, **환율 정보(달러-원 환산용)**
- **데이터 소스**:
  - 무료 API: Yahoo Finance, Alpha Vantage, Financial Modeling Prep 등
  - 유료 API: Polygon.io, IEX Cloud, Finnhub 등
  - 정적 데이터: JSON 파일로 직접 관리
  - **환율 데이터: 환율 API 또는 정적 환율 값**
- **데이터 통합**:
  - 서비스 레이어에서 API/정적 데이터 통합
  - 로컬 스토리지 캐싱
  - 프록시 서버 활용 가능
- **배당 계산**: 과거 패턴 분석 기반 월별 배당금 예측
- **비중(%) 및 원화 매수금 계산**: 전체 포트폴리오 내 각 ETF의 달러/원화 매수금 및 비중(%) 자동 산출

---

## 6. 정적 데이터 준비 및 관리

- **수집**: 인기 ETF 리스트 선정, 각종 정보 수집, **환율 정보 포함**
- **구조화**: ETF 정보, 배당 정보, 가격 정보, 배당 예측, **환율 정보** 등 JSON 파일화
- **예측**: 배당 주기/패턴 분석, 월별 예측 데이터 생성
- **검증/유지**: 데이터 정확성 검증, 주기적 업데이트, 버전 관리
- **통합**: 프로젝트 내 `src/data/`에 저장, 유틸리티 함수로 접근
- **비중(%) 및 원화 매수금**: 데이터 구조에 포함하여 관리

---

## 7. 데이터 확보 방법 비교

- **완전 수동**: 직접 수집 및 입력, 간단하지만 비효율적
- **자동화 스크립트**: Node.js 기반 스크립트로 ETF/배당 데이터 자동 수집, 필요시 실행, **환율 데이터 병합**
- **프론트엔드 API 호출**: 앱 실행 시 실시간 데이터 호출, API 키 관리 필요, **환율 API 연동**
- **하이브리드**: 정적 데이터 + 실시간 정보만 API로 보완, 안정성과 최신성 균형
- **공개 데이터셋 활용**: 오픈 데이터셋 활용 가능

---

## 8. 자동화 데이터 수집 스크립트 전략

- **장점**: 일회성 개발, API 제한 없음, 관심 ETF만 수집, 오프라인 사용 가능, 비용 효율적
- **구현**:
  - Node.js 환경에서 ETF/배당 데이터 수집 스크립트 작성
  - ETF 리스트, 기본 정보, 배당 이력, 월별 예측 데이터 자동화
  - 데이터 저장 경로 및 구조 표준화
  - **환율 데이터 자동 수집 및 병합**
- **실행**: npm 스크립트로 실행, 필요시 cron 등으로 자동화
- **확장/관리**: ETF 리스트 사용자화, 오류 처리, 데이터 업데이트 안내 등

---

## 9. 로컬 데이터 및 사용자 포트폴리오 관리

- **로컬 스토리지**: 사용자 포트폴리오 및 시나리오 저장, **달러/원화 매수금, 비중(%) 포함**
- **비교/분석**: 여러 포트폴리오 저장 및 비교 기능, **비중(%) 비교**
- **데이터 업데이트**: 수동/자동화 방식 병행, 사용자 안내 제공
- **데이터 내보내기/가져오기**: 포트폴리오 데이터를 CSV/JSON 등으로 내보내기 및 불러오기 지원

---

## 10. 개발 및 운영 팁

- **데이터 스크립트 확장성**: ETF 리스트 동적 관리, 가격 데이터 추가 수집, **환율 데이터 자동화**
- **오류 처리**: API 실패 시 대체 소스, 부분적 데이터도 저장
- **사용자 경험**: 데이터 새로고침 버튼, 업데이트 날짜 표시, 안내 메시지 제공, **비중(%) 시각화**

---

## 11. 개인 사용자 중심 추천 기능

- **목표 달성 시뮬레이션**: 목표 월배당금/목표 포트폴리오 비중 입력 시, 필요한 ETF별 매수 수량/금액 자동 계산
- **환율 변동 시나리오 분석**: 환율 변동에 따른 원화 매수금, 배당금 변동 시뮬레이션
- **포트폴리오 리밸런싱 가이드**: 비중(%) 자동 분석 및 리밸런싱 필요 시 알림
- **배당 캘린더 통합 알림**: 월별 배당 지급일 캘린더 및 알림 기능
- **포트폴리오 스냅샷 저장/비교**: 특정 시점의 포트폴리오 상태 저장 및 과거와 비교
- **세금 시뮬레이션**: 미국/한국 배당세, 환차익세 등 세금 자동 계산 옵션
- **다크모드 및 모바일 최적화**: 다양한 환경에서의 가독성 및 사용성 강화

--- 