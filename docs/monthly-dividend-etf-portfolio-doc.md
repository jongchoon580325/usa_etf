# 월배당 ETF 포트폴리오 웹앱 개발 명세서

## 1. 프로젝트 개요

### 1.1 목적
본 프로젝트는 미국 주식 월배당 ETF를 활용한 포트폴리오 관리 웹 애플리케이션을 개발하여 사용자가 자신의 배당 포트폴리오를 효과적으로 구성, 분석 및 최적화할 수 있도록 지원하는 것을 목적으로 합니다.

### 1.2 주요 기능 요약
- ETF 검색 및 포트폴리오 구성
- 포트폴리오 성과 시각화 및 분석
- 배당금 수입 추적 및 예측
- 포트폴리오 최적화 시뮬레이션

## 2. 기술 스택

### 2.1 프론트엔드
- React.js 또는 Vue.js (SPA 구현)
- TailwindCSS (다크모드 지원 UI 구현)
- Chart.js 또는 D3.js (데이터 시각화)

### 2.2 데이터 저장 및 관리
- IndexedDB (주요 포트폴리오 데이터 저장)
- LocalStorage (사용자 설정 및 환경설정 저장)

### 2.3 외부 API
- 실시간 ETF 가격 데이터 API
- 환율 정보 API
- ETF 배당 일정 API

## 3. 애플리케이션 구조

### 3.1 레이아웃
- **화면 비율**: 좌측:우측 = 1:3 (3분할 기준)
- **전체 테마**: 다크모드(진한 회색 계열)
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 지원

### 3.2 상단 메뉴바
- 로고: "Dividend ETF Portfolio"
- 주요 네비게이션:
  - 포트폴리오 (기본 화면)
  - 자료관리
  - 대시보드 (신규)
  - 배당 캘린더 (신규)
  - 시뮬레이션 (신규)

### 3.3 하단 푸터
- 저작권 정보: "Monthly Dividend ETF Portfolio Built with ❤️ by 나 종 춘"
- 버전 정보
- 사용자 지원 링크

## 4. 주요 기능 상세

### 4.1 좌측 패널 (1/4 영역)
- **ETF 검색 및 선택 컴포넌트**
  - 자동완성 기능이 있는 검색 입력 필드
  - 최근 검색 히스토리
  - 인기 ETF 퀵 선택 옵션

- **ETF 정보 입력 폼**
  - ETF 티커 심볼 (자동 입력)
  - 현재 주가 (API 자동 연동)
  - 수량 입력
  - 비중 계산 (자동 또는 수동 입력)
  - 달러 투자금 계산
  - 원화 투자금 계산 (환율 자동 적용)
  - 예상 월 배당금 표시

### 4.2 우측 패널 (3/4 영역)
- **포트폴리오 테이블 뷰**
  - 컬럼: ETF, 수량, 주가, $ 투자금, ₩ 투자금, 비중, 주당 월배당
  - 합계 행 (황색 하이라이트)
  - 정렬 및 필터링 기능
  - 항목별 수정/삭제 버튼

- **대시보드 섹션** (신규)
  - 월별 총 배당금 예상치 바 차트
  - 포트폴리오 섹터/국가별 분산도 도넛 차트
  - 연간 배당금 성장률 라인 차트
  - 투자 요약 카드 (총액, 예상 수익률, 평균 배당 수익률)

### 4.3 추가 기능

#### 4.3.1 환율 자동 연동
- 실시간 USD/KRW 환율 API 연동
- 환율 적용 시점 선택 옵션 (현재/구매 시점)
- 환율 변동에 따른 손익 영향 분석

#### 4.3.2 배당 캘린더 뷰
- 월간/연간 배당금 스케줄 캘린더 형식 표시
- 배당락일, 지급일 하이라이트 및 알림 설정
- 월별, 분기별, 연간 배당금 집계 표시
- 캘린더 내보내기 기능 (iCal, Google Calendar)

#### 4.3.3 포트폴리오 시뮬레이션
- "What-if" 시나리오 테스터
  - ETF 비중 조정에 따른 포트폴리오 성과 변화
  - 투자금액 변경에 따른 배당금 예측
- 최적 배당 포트폴리오 자동 제안
  - 배당 수익 최대화 모델
  - 리스크 대비 배당 균형 모델
  - 월별 배당금 평준화 모델
- 과거 성과 기반 미래 시뮬레이션 (몬테카를로 방식)

#### 4.3.4 데이터 백업 및 동기화
- 포트폴리오 데이터 JSON 형식 내보내기/가져오기
- 클라우드 저장소 연동 옵션 (향후 개발)

## 5. 데이터 모델

### 5.1 ETF 정보
```javascript
{
  ticker: String,       // ETF 티커 심볼
  name: String,         // ETF 이름
  price: Number,        // 현재 주가
  sector: String,       // 섹터 분류
  country: String,      // 주요 투자 국가
  dividendFrequency: String,  // 배당 주기
  dividendAmount: Number,     // 주당 월 배당금
  lastUpdated: Date     // 가격 정보 최종 업데이트 시간
}
```

### 5.2 포트폴리오 항목
```javascript
{
  id: String,           // 고유 식별자
  etfTicker: String,    // ETF 티커 심볼
  quantity: Number,     // 보유 수량
  purchasePrice: Number, // 구매 시 주가
  currentPrice: Number, // 현재 주가
  usdInvestment: Number, // 달러 투자금
  krwInvestment: Number, // 원화 투자금
  weight: Number,       // 포트폴리오 내 비중 (%)
  monthlyDividend: Number, // 예상 월 배당금
  purchaseDate: Date    // 구매 일자
}
```

### 5.3 환율 데이터
```javascript
{
  date: Date,           // 환율 날짜
  usdToKrw: Number,     // USD/KRW 환율
  source: String        // 데이터 출처
}
```

## 6. 개발 로드맵

### 6.1 1단계: 기본 기능 구현
- 좌측 ETF 검색 및 선택 패널
- 우측 포트폴리오 테이블 뷰
- IndexedDB 및 LocalStorage 연동

### 6.2 2단계: 확장 기능 개발
- 대시보드 섹션 구현
- 환율 자동 연동 기능
- 배당 캘린더 뷰

### 6.3 3단계: 고급 기능 추가
- 포트폴리오 시뮬레이션 도구
- 데이터 백업 및 동기화
- 사용자 피드백 기반 UI/UX 개선

## 7. UI 디자인 가이드라인

### 7.1 색상 팔레트
- 배경색: #121212 (주 배경), #1E1E1E (컴포넌트 배경)
- 텍스트: #FFFFFF (주 텍스트), #BBBBBB (보조 텍스트)
- 강조색: #4CAF50 (양수/이익), #F44336 (음수/손실)
- 하이라이트: #FFD700 (황금색, 합계 행)
- 차트 컬러: Material Design 색상 팔레트 적용

### 7.2 타이포그래피
- 주 폰트: 'Roboto', 'Noto Sans KR', sans-serif
- 헤딩 폰트 크기: 24px (h1), 20px (h2), 16px (h3)
- 본문 폰트 크기: 14px
- 테이블 폰트 크기: 13px

### 7.3 컴포넌트 스타일
- 모서리 둥글기: 8px (카드, 버튼), 4px (입력 필드)
- 그림자 효과: 미니멀 (다크모드에 적합)
- 아이콘: Material Design 또는 Feather 아이콘 세트

## 8. 성능 최적화 전략

### 8.1 초기 로딩 최적화
- 코드 스플리팅 및 지연 로딩
- 중요 CSS 인라인 처리
- 이미지 및 자산 최적화

### 8.2 실행 성능
- 가상 스크롤 (대량 데이터 처리 시)
- 메모이제이션 및 캐싱 전략
- 웹 워커 활용 (복잡한 계산 오프로드)

### 8.3 오프라인 기능
- 서비스 워커 구현
- 주요 데이터 캐싱
- 오프라인 상태 UI 피드백

## 9. 테스트 전략

### 9.1 단위 테스트
- 핵심 비즈니스 로직 테스트
- 데이터 모델 무결성 검증

### 9.2 통합 테스트
- 컴포넌트 간 상호작용 테스트
- IndexedDB 데이터 처리 테스트

### 9.3 사용자 테스트
- 프로토타입 기반 사용성 평가
- 실제 사용자 피드백 수집 및 반영

## 10. 배포 및 유지보수 계획

### 10.1 배포 전략
- GitHub Pages 또는 Netlify 활용
- CDN 연동 (자산 최적화)
- 점진적 롤아웃

### 10.2 유지보수 계획
- 월간 기능 업데이트
- 분기별 주요 릴리스
- 지속적 성능 모니터링 및 최적화

### 10.3 확장 가능성
- PWA 구현
- 사용자 계정 시스템 (선택적)
- 다국어 지원 (한국어/영어)

---

이 명세서는 '월배당 ETF 포트폴리오' 웹앱의 개발 지침으로, 실제 구현 과정에서 기술적 제약이나 새로운 요구사항에 따라 조정될 수 있습니다.
